{"version":3,"file":"index.js","sources":["../src/js/checkWin.js","../src/js/refs.js","../src/js/createRandomSet.js","../src/js/renderCards.js","../src/main.js"],"sourcesContent":["export function checkWin(cardField) {\n  const res = [...cardField.children].every(el =>\n    el.classList.contains('found')\n  );\n  return res;\n}\n","export const refs = {\n  cards: document.querySelector('.js-cards'),\n};\n","export function createRandomSet(amount) {\n  const data = [];\n\n  for (let index = 0; index < amount / 2; index++) {\n    data.push(index, index);\n  }\n  const rendomData = [];\n\n  while (rendomData.length < amount) {\n    const randomIdx = getRandom(data.length);\n    const randomEl = data[randomIdx];\n    data.splice(randomIdx, 1);\n    rendomData.push(randomEl);\n  }\n\n  return rendomData;\n}\n\nfunction getRandom(num) {\n  return Math.floor(Math.random() * num);\n}\n","import { createRandomSet } from './createRandomSet';\nimport { refs } from './refs';\n\nexport function renderCards(amount = 12) {\n  const cardSet = createRandomSet(amount);\n  const markup = cardSet\n    .map(item => `<div class=\"card\" data-id=${item}>${item}</div>`)\n    .join('');\n  refs.cards.innerHTML = markup;\n}\n","import { checkWin } from './js/checkWin';\n// import { createRandomSet } from './js/createRandomSet';\nimport { refs } from './js/refs';\nimport { renderCards } from './js/renderCards';\n\nlet firstOpenedCard = null;\nlet secondOpenedCard = null;\nconst CARDS_AMOUNT = 12;\n\nrefs.cards.addEventListener('click', onCardsClick);\nrenderCards(CARDS_AMOUNT);\n\nfunction onCardsClick({ target, currentTarget }) {\n  if (target === currentTarget) return;\n  if (firstOpenedCard && secondOpenedCard) return;\n  if (target === firstOpenedCard) return;\n  if (target.classList.contains('found')) return;\n\n  showCard(target);\n\n  if (!firstOpenedCard) {\n    firstOpenedCard = target;\n    return;\n  }\n  secondOpenedCard = target;\n\n  if (secondOpenedCard.dataset.id === firstOpenedCard.dataset.id) {\n    makeCardFound(secondOpenedCard);\n    makeCardFound(firstOpenedCard);\n    firstOpenedCard = null;\n    secondOpenedCard = null;\n\n    if (checkWin(refs.cards)) {\n      setTimeout(() => {\n        alert('You WIN');\n        renderCards(CARDS_AMOUNT);\n      }, 500);\n    }\n    return;\n  }\n\n  closeCards();\n}\n\nfunction closeCards() {\n  setTimeout(() => {\n    firstOpenedCard.classList.remove('shown');\n    secondOpenedCard.classList.remove('shown');\n    firstOpenedCard = null;\n    secondOpenedCard = null;\n  }, 500);\n}\n\nfunction showCard(target) {\n  target.classList.add('shown');\n}\n\nfunction makeCardFound(target) {\n  target.classList.add('found');\n}\n"],"names":["checkWin","cardField","el","refs","createRandomSet","amount","data","index","rendomData","randomIdx","getRandom","randomEl","num","renderCards","markup","item","firstOpenedCard","secondOpenedCard","CARDS_AMOUNT","onCardsClick","target","currentTarget","showCard","makeCardFound","closeCards"],"mappings":"ssBAAO,SAASA,EAASC,EAAW,CAIlC,MAHY,CAAC,GAAGA,EAAU,QAAQ,EAAE,MAAMC,GACxCA,EAAG,UAAU,SAAS,OAAO,CACjC,CAEA,CCLO,MAAMC,EAAO,CAClB,MAAO,SAAS,cAAc,WAAW,CAC3C,ECFO,SAASC,EAAgBC,EAAQ,CACtC,MAAMC,EAAO,CAAA,EAEb,QAASC,EAAQ,EAAGA,EAAQF,EAAS,EAAGE,IACtCD,EAAK,KAAKC,EAAOA,CAAK,EAExB,MAAMC,EAAa,CAAA,EAEnB,KAAOA,EAAW,OAASH,GAAQ,CACjC,MAAMI,EAAYC,EAAUJ,EAAK,MAAM,EACjCK,EAAWL,EAAKG,CAAS,EAC/BH,EAAK,OAAOG,EAAW,CAAC,EACxBD,EAAW,KAAKG,CAAQ,CACzB,CAED,OAAOH,CACT,CAEA,SAASE,EAAUE,EAAK,CACtB,OAAO,KAAK,MAAM,KAAK,OAAQ,EAAGA,CAAG,CACvC,CCjBO,SAASC,EAAYR,EAAS,GAAI,CAEvC,MAAMS,EADUV,EAAgBC,CAAM,EAEnC,IAAIU,GAAQ,6BAA6BA,CAAI,IAAIA,CAAI,QAAQ,EAC7D,KAAK,EAAE,EACVZ,EAAK,MAAM,UAAYW,CACzB,CCJA,IAAIE,EAAkB,KAClBC,EAAmB,KACvB,MAAMC,EAAe,GAErBf,EAAK,MAAM,iBAAiB,QAASgB,CAAY,EACjDN,EAAYK,CAAY,EAExB,SAASC,EAAa,CAAE,OAAAC,EAAQ,cAAAC,GAAiB,CAC/C,GAAID,IAAWC,GACX,EAAAL,GAAmBC,IACnBG,IAAWJ,GACX,CAAAI,EAAO,UAAU,SAAS,OAAO,EAIrC,IAFAE,EAASF,CAAM,EAEX,CAACJ,EAAiB,CACpBA,EAAkBI,EAClB,MACD,CAGD,GAFAH,EAAmBG,EAEfH,EAAiB,QAAQ,KAAOD,EAAgB,QAAQ,GAAI,CAC9DO,EAAcN,CAAgB,EAC9BM,EAAcP,CAAe,EAC7BA,EAAkB,KAClBC,EAAmB,KAEfjB,EAASG,EAAK,KAAK,GACrB,WAAW,IAAM,CACf,MAAM,SAAS,EACfU,EAAYK,CAAY,CACzB,EAAE,GAAG,EAER,MACD,CAEDM,IACF,CAEA,SAASA,GAAa,CACpB,WAAW,IAAM,CACfR,EAAgB,UAAU,OAAO,OAAO,EACxCC,EAAiB,UAAU,OAAO,OAAO,EACzCD,EAAkB,KAClBC,EAAmB,IACpB,EAAE,GAAG,CACR,CAEA,SAASK,EAASF,EAAQ,CACxBA,EAAO,UAAU,IAAI,OAAO,CAC9B,CAEA,SAASG,EAAcH,EAAQ,CAC7BA,EAAO,UAAU,IAAI,OAAO,CAC9B"}